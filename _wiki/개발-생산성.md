---
layout: wiki 
title: 개발 생산성
---

<!-- TOC -->

- [Graph n of connections for each hosts](#graph-n-of-connections-for-each-hosts)
- [Analyzing Redis PING performance](#analyzing-redis-ping-performance)
- [sudo proxy 설정 유지](#sudo-proxy-설정-유지)
- [Network Traffic Monitoring: nload](#network-traffic-monitoring-nload)
- [Differences between IOI and ACM-ICPC](#differences-between-ioi-and-acm-icpc)

<!-- /TOC -->

# Graph n of connections for each hosts
```
$ watch -n 5 "ss -an \
  | grep -v 'LISTEN' | grep -v 'State' \
  | awk '{print \$1\" \"\$5}' | awk -F: '{print \$1}' \
  | sort | uniq -c | sort -k3 \
  | awk '{ printf(\"%10s %15s %5s\t\",\$2,\$3,\$1); \
    for (i = 0; i < \$1; i++) { \
      printf(\"*\") \
    }; \
  print \"\" 
  }'"
```

# Analyzing Redis PING performance
아래 스크립트를 bash에서 매 초 마다 실행되도록 하여 응답속도가 3ms 넘는 요청을 출력했다.

```python
import time
import redis

for i in range(10):
    start_time = time.time()
    try:
        conn = redis.StrictRedis(
            host='xxx',
            port=6379,
            db=0)
        conn.ping()
    except Exception as ex:
        print('Error:', ex)
        exit('Failed to connect, terminating.')

    elapsed_time = float("{0:.2f}".format((time.time() - start_time) * 1000))
    if elapsed_time > 3:
        print(int(time.time()), elapsed_time)
```

아래와 같이 bash를 매 초 실행되도록 했다.
```
$ while true; do python ping.py; sleep 1; done
```

# sudo proxy 설정 유지
```
$ vi /etc/sudoers
Defaults    env_keep += "http_proxy https_proxy no_proxy"
```

# Network Traffic Monitoring: nload
`brew install nload`  
How to run: `nload -u H` it didn’t work with device ‘en0’ and its reason is unknown.

<img src="http://docs.likejazz.com/images/2017/nload.png" width="50%" />

# Differences between IOI and ACM-ICPC
- IOI(국제정보올림피아드): individual contest for high school students(국내는 과학고 학생들이 주로 출전). 내가 중학생때 출전한건 전신인 전국 퍼스널 컴퓨터경진대회
- ACM-ICPC: team contest for collegiate students. 국내는 최다 우승 서울대, 2위 KAIST
