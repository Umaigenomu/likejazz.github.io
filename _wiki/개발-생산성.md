---
layout: wiki 
title: 개발 생산성
---

<!-- TOC -->

- [Graph n of connections for each hosts](#graph-n-of-connections-for-each-hosts)
- [Analyzing Redis PING performance](#analyzing-redis-ping-performance)
- [수식 LaTeX 표현](#수식-latex-표현)
- [sudo proxy 설정 유지](#sudo-proxy-설정-유지)
- [Network Traffic Monitoring: nload](#network-traffic-monitoring-nload)
- [Differences between IOI and ACM-ICPC](#differences-between-ioi-and-acm-icpc)

<!-- /TOC -->

# Graph n of connections for each hosts
```
$ watch -n 5 "ss -an \
  | grep -v 'LISTEN' | grep -v 'State' \
  | awk '{print \$1\" \"\$5}' | awk -F: '{print \$1}' \
  | sort | uniq -c | sort -k3 \
  | awk '{ printf(\"%10s %15s %5s\t\",\$2,\$3,\$1); \
    for (i = 0; i < \$1; i++) { \
      printf(\"*\") \
    }; \
  print \"\" 
  }'"
```

# Analyzing Redis PING performance
아래 스크립트를 bash에서 매 초 마다 실행되도록 하여 응답속도가 3ms 넘는 요청을 출력했다.

```python
import time
import redis

for i in range(10):
    start_time = time.time()
    try:
        conn = redis.StrictRedis(
            host='xxx',
            port=6379,
            db=0)
        conn.ping()
    except Exception as ex:
        print('Error:', ex)
        exit('Failed to connect, terminating.')

    elapsed_time = float("{0:.2f}".format((time.time() - start_time) * 1000))
    if elapsed_time > 3:
        print(int(time.time()), elapsed_time)
```

아래와 같이 bash를 매 초 실행되도록 했다.
```
$ while true; do python ping.py; sleep 1; done
```

# 수식 LaTeX 표현
웹 페이지에서 수식, 그 중에서도 LaTeX를 표현하는 가장 좋은 방법은 [MathJax](https://www.mathjax.org/)를 사용하는 것이다. 그러나 웹 페이지에 미리 embed 해야 하는데 그렇게 할 수 없는 서비스형 블로그 등에서는 구글의 [Mathematical Formulas API](https://developers.google.com/chart/infographics/docs/formulas)를 이용한다. deprecated 상태이지만 여전히 이용 가능하다. URL로 LaTex를 직접 표현해야 하는 특성상 ` `와 `+`에 대해 `%20`, `%2B`로 추가 인코딩이 필요하다. 깃헙 위키에서는 MathJax를 사용할 수 없으므로, 구글 API를 이용한다.

- [예제가 많은 SO의 글](https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference)
- [기호를 그리면 비슷한 LaTeX](http://detexify.kirelabs.org/classify.html)를 찾아준다. 
- [MathJax 연습 사이트](http://jsbin.com/zimuxulawu/edit?html,output)

# sudo proxy 설정 유지
```
$ vi /etc/sudoers
Defaults    env_keep += "http_proxy https_proxy no_proxy"
```

# Network Traffic Monitoring: nload
`brew install nload`  
How to run: `nload -u H` it didn’t work with device ‘en0’ and its reason is unknown.

<img src="http://docs.likejazz.com/images/2017/nload.png" width="50%" />

# Differences between IOI and ACM-ICPC
- IOI(국제정보올림피아드): individual contest for high school students(국내는 과학고 학생들이 주로 출전). 내가 중학생때 출전한건 전신인 전국 퍼스널 컴퓨터경진대회
- ACM-ICPC: team contest for collegiate students. 국내는 최다 우승 서울대, 2위 KAIST
